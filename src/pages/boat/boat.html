<ion-header>

  <ion-navbar>
    <ion-title style="text-align:center">{{title}}</ion-title>
  </ion-navbar>

  <ion-segment [(ngModel)]="subPage"  color="primary">
    <ion-segment-button value="order">
      排班順位
    </ion-segment-button>
    <ion-segment-button value="status">
      狀態表格
    </ion-segment-button>
  </ion-segment>

</ion-header>

<ion-content padding>
  <div [ngSwitch] = "subPage">

    <ion-grid *ngSwitchCase="'order'" class="z-depth-2 tablePage">
      <ion-row class="row-header">
        <ion-col col-2>順位</ion-col>
        <ion-col col-4>引水人</ion-col>
        <ion-col col-6>報到時間</ion-col>
      </ion-row>
      <ion-row *ngFor = "let order of orders;let i=index">
        <ion-col col-2>{{i+1}}</ion-col>
        <ion-col col-4>{{order.pilot_id}} {{order.name}}</ion-col>
        <ion-col col-6>{{order.created}}</ion-col>
      </ion-row>
    </ion-grid>

    <ion-scroll scrollX="true" scrollY="true" class="horizonScroll">
      <ion-grid *ngSwitchCase="'status'" class="z-depth-2 tablePage" style="width: 300%">
        <ion-row nowrap class="row-header">
          <ion-col col-2>引水人  </ion-col>
          <ion-col col-2>工作狀態</ion-col>
          <ion-col col-2>前日大夜班次數</ion-col>
          <ion-col col-6>安排船舶資訊(船況/船名/靠地/噸位)</ion-col>
        </ion-row>
        <ion-row nowrap *ngFor = "let status of statuses">
          <ion-col col-2>{{status.pilot_id}} {{status.name}}</ion-col>
          <ion-col col-2>{{status.pilot_status}}</ion-col>
          <ion-col col-2>{{status.night_shift}}</ion-col>
          <ion-col col-6>
            <ng-container *ngFor="let ss of status.event_set">
              <ng-container *ngIf="ss.SP_STS=='I'">{{ss.SP_STS}}/{{ss.SP_ENAME}}/S{{ss.SP_INPORT}}->{{ss.SP_PORTPLACE}}/{{ss.SP_TOTDUN}}</ng-container>
              <ng-container *ngIf="ss.SP_STS=='O'">{{ss.SP_STS}}/{{ss.SP_ENAME}}/{{ss.SP_PORTPLACE}}->S{{ss.SP_INPORT}}/{{ss.SP_TOTDUN}}</ng-container>
              <ng-container *ngIf="ss.SP_STS=='T'">{{ss.SP_STS}}/{{ss.SP_ENAME}}/{{ss.SP_PORTFROM}}->{{ss.SP_PORTPLACE}}/{{ss.SP_TOTDUN}}</ng-container>
            </ng-container>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-scroll>
  </div>

</ion-content>
