<ion-header>

  <ion-navbar>
    <ion-title style="text-align:center">{{title}}</ion-title>
  </ion-navbar>

  <ion-segment [(ngModel)]="subPage"  color="primary">
    <ion-segment-button value="time">
      工作時間
    </ion-segment-button>
    <ion-segment-button value="record">
      連續帶船紀錄
    </ion-segment-button>
  </ion-segment>

</ion-header>

<ion-content padding>
  <div [ngSwitch] = "subPage">
    <div *ngSwitchCase="'time'">
      <ion-card>
        <ion-card-header class="cardHead">
          單趟累積連續總工時:<br> {{accumulateWorkTime_h}}時{{accumulateWorkTime_m}}分
        </ion-card-header>

        <ion-card-content>

        </ion-card-content>
      </ion-card>


      <ion-card>
        <ion-card-header class="cardHead">
          個人每月平均日工時
        </ion-card-header>

        <ion-card-content>
          <ion-select [(ngModel)]="date_person" multiple="false" class="myTime">
            <ion-option value="new">這個月</ion-option>
            <ion-option value="old">上個月</ion-option>
          </ion-select>
          <span style="font-size: 20px" *ngIf="date_person == 'new'">白天班：{{new_person_day_h}}時{{new_person_day_m}}分</span>
          <span style="font-size: 20px" *ngIf="date_person == 'old'">白天班：{{old_person_day_h}}時{{old_person_day_m}}分</span>
          <br><br>
          <span style="font-size: 20px" *ngIf="date_person == 'new'">大夜班：{{new_person_night_h}}時{{new_person_night_m}}分</span>
          <span style="font-size: 20px" *ngIf="date_person == 'old'">大夜班：{{old_person_night_h}}時{{old_person_night_m}}分</span>
        </ion-card-content>
      </ion-card>

      <ion-card *ngIf="join == true">
        <ion-card-header class="cardHead">
          連續帶船組內平均日工時
        </ion-card-header>

        <ion-card-content>
          <ion-select [(ngModel)]="date_group" multiple="false" class="myTime">
            <ion-option value="neww">這個月</ion-option>
            <ion-option value="oldd">上個月</ion-option>
          </ion-select>
          <span style="font-size: 20px" *ngIf="date_group == 'neww'">白天班：{{new_group_day_h}}時{{new_group_day_m}}分</span>
          <span style="font-size: 20px" *ngIf="date_group == 'oldd'">白天班：{{old_group_day_h}}時{{old_group_day_m}}分</span>
          <br><br>
          <span style="font-size: 20px" *ngIf="date_group == 'neww'">大夜班：{{new_group_night_h}}時{{new_group_night_m}}分</span>
          <span style="font-size: 20px" *ngIf="date_group == 'oldd'">大夜班：{{old_group_night_h}}時{{old_group_night_m}}分</span>
        </ion-card-content>
      </ion-card>
    </div>

    <ion-scroll scrollX="true" class="horizonScroll" *ngSwitchCase="'record'">
      <ion-grid class="z-depth-2" style="width: 150%">
        <ion-row style="text-align: right, font-text: 18px">{{date1}}</ion-row>
        <ion-row nowrap class="row-header">
          <ion-col col-2>發生時間</ion-col>
          <ion-col col-2 style="font-size: 13px">連續帶船引水人</ion-col>
          <ion-col col-2 style="font-size: 13px">連續休息引水人</ion-col>
          <ion-col col-6>船舶資訊(狀態/船名/碼頭/噸位)</ion-col>
        </ion-row>
        <ion-row nowrap *ngFor="let change of changes">
          <ion-col col-2>{{change.occur_time}}</ion-col>
          <ion-col col-2 style="font-size: 12px">{{change.pilot_work.pilot_id}}{{change.pilot_work.name}}</ion-col>
          <ion-col col-2 style="font-size: 12px">{{change.pilot_wait.pilot_id}}{{change.pilot_wait.name}}</ion-col>
          <ion-col col-6 *ngIf="change.SP_STS=='I'">{{change.SP_STS}}/{{change.SP_ENAME}}/<br>S{{change.SP_INPORT}}->{{change.SP_PORTPLACE}}/{{change.SP_TOTDUN}}</ion-col>
          <ion-col col-6 *ngIf="change.SP_STS=='O'">{{change.SP_STS}}/{{change.SP_ENAME}}/<br>{{change.SP_PORTPLACE}}->S{{change.SP_INPORT}}/{{change.SP_TOTDUN}}</ion-col>
          <ion-col col-6 *ngIf="change.SP_STS=='T'">{{change.SP_STS}}/{{change.SP_ENAME}}/<br>{{change.SP_PORTFROM}}->{{change.SP_PORTPLACE}}/{{change.SP_TOTDUN}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-scroll>

  </div>
</ion-content>
